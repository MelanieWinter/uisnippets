{% extends 'base.html' %}
{% block content %}

<div class="snippets" style="margin-block: 4vmin;">

    {% for snippet in snippets %}

    <div class="snippet-preview">
        <div class="all-buttons-container">
            <div class="tag-buttons">
                {% if snippet.tags.count %}
                    {% for tag in snippet.tags.all %}
                    <a href="{% url 'tags_detail' tag.id %}">
                        <button class="tag">{{tag.name}}</button>
                    </a>
                    {% endfor %}
                {% endif %}
            </div>
        </div>


        <iframe class="preview" srcdoc="
            <html>
            <head>
                <style>{{ snippet.css_code }}</style>
            </head>
            <body>
                {{ snippet.html_code }}
                <script>{{ snippet.js_code }}</script>
            </body>
            </html>
        "></iframe>

        <div class="details-button-container">
            <a href="{% url 'detail' snippet.id %}" class="details-button"><div>{{ snippet.title }}</div></a>
        </div>
    </div>

    {% endfor %}

</div>

{% endblock %}